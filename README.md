# Sora Web UI

ä¸€ä¸ªåŸºäº Azure OpenAI Sora 2 çš„ Web è§†é¢‘ç”Ÿæˆç•Œé¢ï¼Œæ”¯æŒæ–‡æœ¬ç”Ÿæˆè§†é¢‘ï¼ˆText to Videoï¼‰å’Œå›¾ç‰‡ç”Ÿæˆè§†é¢‘ï¼ˆImage to Videoï¼‰åŠŸèƒ½ã€‚

![Sora Web UI](https://img.shields.io/badge/Sora-Web%20UI-blue?style=for-the-badge)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![React](https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=react&logoColor=black)
![Node.js](https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ¬ **æ–‡æœ¬ç”Ÿæˆè§†é¢‘** - é€šè¿‡æ–‡å­—æè¿°ç”Ÿæˆé«˜è´¨é‡è§†é¢‘
- ğŸ–¼ï¸ **å›¾ç‰‡ç”Ÿæˆè§†é¢‘** - ä¸Šä¼ å›¾ç‰‡ï¼ŒAI å°†å…¶è½¬æ¢ä¸ºåŠ¨æ€è§†é¢‘
- ğŸ“Š **å®æ—¶è¿›åº¦è·Ÿè¸ª** - å¯è§†åŒ–æ˜¾ç¤ºè§†é¢‘ç”Ÿæˆè¿›åº¦ï¼Œå¸¦ç«èŠ±åŠ¨ç”»æ•ˆæœ
- ğŸ“œ **å†å²è®°å½•ç®¡ç†** - æŸ¥çœ‹ã€ä¸‹è½½å’Œç®¡ç†æ‰€æœ‰ç”Ÿæˆçš„è§†é¢‘
- ğŸ¥ **è§†é¢‘é¢„è§ˆæ’­æ”¾** - åœ¨å†å²é¡µé¢ç›´æ¥é¢„è§ˆå’Œæ’­æ”¾ç”Ÿæˆçš„è§†é¢‘
- âš™ï¸ **é…ç½®ç®¡ç†** - çµæ´»é…ç½® Azure OpenAI è¿æ¥ä¿¡æ¯
- ğŸ¨ **ç°ä»£åŒ– UI** - åŸºäº Tailwind CSS çš„ç¾è§‚ç•Œé¢è®¾è®¡

![é¡µé¢ç¤ºä¾‹æ ·å¼ ](./image.png)

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** + **TypeScript**
- **Vite** - å¿«é€Ÿçš„æ„å»ºå·¥å…·
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **Zustand** - è½»é‡çº§çŠ¶æ€ç®¡ç†
- **Axios** - HTTP å®¢æˆ·ç«¯
- **Lucide React** - å›¾æ ‡åº“

### åç«¯
- **Node.js** + **Express**
- **TypeScript**
- **OpenAI SDK** - Azure OpenAI é›†æˆ
- **Multer** - æ–‡ä»¶ä¸Šä¼ å¤„ç†
- **Sharp** - å›¾ç‰‡å¤„ç†

## ğŸ“‹ å‰ç½®è¦æ±‚

- **Node.js** >= 18.0.0
- **npm** >= 9.0.0
- **Azure OpenAI è´¦å·** å¹¶å¼€é€š Sora 2 æœåŠ¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/nikawang/sora2-ui.git
cd sora2-ui
```

### 2. å®‰è£…ä¾èµ–

é¡¹ç›®åŒ…å«å‰ç«¯å’Œåç«¯ä¸¤éƒ¨åˆ†ï¼Œéœ€è¦åˆ†åˆ«å®‰è£…ä¾èµ–ï¼š

```bash
# å®‰è£…åç«¯ä¾èµ–
cd src/backend
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `src/backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š

```env
# æœåŠ¡å™¨é…ç½®
PORT=8080
```

> ğŸ’¡ **æç¤º**ï¼šå¦‚æœä¸åœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨å¯åŠ¨åé€šè¿‡ Web ç•Œé¢çš„è®¾ç½®é¡µé¢è¿›è¡Œé…ç½®ã€‚

### 4. å¯åŠ¨é¡¹ç›®

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
chmod +x start-all.sh
./start-all.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- å¯åŠ¨åç«¯æœåŠ¡ï¼ˆç«¯å£ 8080ï¼‰
- å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆç«¯å£ 5173ï¼‰
- è¾“å‡ºæ—¥å¿—åˆ° `backend-output.log` å’Œ `frontend-output.log`

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

**å¯åŠ¨åç«¯**ï¼š
```bash
cd src/backend
npm run dev
```

**å¯åŠ¨å‰ç«¯**ï¼ˆæ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼‰ï¼š
```bash
cd src/frontend
npm run dev
```

### 5. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
- **å‰ç«¯ç•Œé¢**ï¼šhttp://localhost:5173
- **åç«¯ API**ï¼šhttp://localhost:8080

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### é¦–æ¬¡ä½¿ç”¨

1. **é…ç½® Azure OpenAI**
   - ç‚¹å‡»å³ä¸Šè§’çš„è®¾ç½®å›¾æ ‡ï¼ˆâš™ï¸ï¼‰
   - è¾“å…¥ä½ çš„ Azure OpenAI Endpoint å’Œ API Key
   - ç‚¹å‡»"Save Configuration"ä¿å­˜å¹¶éªŒè¯è¿æ¥

2. **ç”Ÿæˆè§†é¢‘**
   
   **æ–‡æœ¬ç”Ÿæˆè§†é¢‘**ï¼š
   - å¯¼èˆªåˆ°"Text to Video"é¡µé¢
   - è¾“å…¥è§†é¢‘æè¿°æç¤ºè¯
   - é€‰æ‹©è§†é¢‘å‚æ•°ï¼ˆåˆ†è¾¨ç‡ã€æ—¶é•¿ã€æ¨¡å‹ï¼‰
   - ç‚¹å‡»"Generate Video"

   **å›¾ç‰‡ç”Ÿæˆè§†é¢‘**ï¼š
   - å¯¼èˆªåˆ°"Image to Video"é¡µé¢
   - ä¸Šä¼ å›¾ç‰‡ï¼ˆæ”¯æŒ jpg, png, webpï¼‰
   - å¯é€‰ï¼šè¾“å…¥è¿åŠ¨æè¿°
   - é€‰æ‹©è§†é¢‘å‚æ•°
   - ç‚¹å‡»"Generate Video"

3. **æŸ¥çœ‹å†å²**
   - å¯¼èˆªåˆ°"History"é¡µé¢
   - æŸ¥çœ‹æ‰€æœ‰ç”Ÿæˆçš„è§†é¢‘
   - ç›´æ¥åœ¨çº¿é¢„è§ˆæ’­æ”¾
   - ä¸‹è½½è§†é¢‘åˆ°æœ¬åœ°
   - åˆ é™¤ä¸éœ€è¦çš„è®°å½•

## ğŸ“ é¡¹ç›®ç»“æ„

```
sora2-ui/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/     # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/          # è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ server.ts        # æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ uploads/             # ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ videos/              # ç”Ÿæˆçš„è§†é¢‘ç›®å½•
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ frontend/                # å‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/      # React ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ services/        # API æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰ Hooks
â”‚       â”‚   â”œâ”€â”€ store/           # Zustand çŠ¶æ€ç®¡ç†
â”‚       â”‚   â””â”€â”€ App.tsx          # åº”ç”¨å…¥å£
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ start-all.sh                 # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
```

## ğŸ¨ æ”¯æŒçš„è§†é¢‘å‚æ•°

### åˆ†è¾¨ç‡é€‰é¡¹
- `1280x720` - 720p æ¨ªå±
- `720x1280` - 720p ç«–å±ï¼ˆé€‚åˆæ‰‹æœºï¼‰
- `1792x1024` - å®½å±æ¨ªå±
- `1024x1792` - é«˜å±ç«–å±

### æ—¶é•¿é€‰é¡¹
- `4ç§’` - å¿«é€ŸçŸ­è§†é¢‘
- `8ç§’` - æ ‡å‡†æ—¶é•¿
- `12ç§’` - æ‰©å±•æ—¶é•¿

### æ¨¡å‹
- `sora-2` - Sora ç¬¬äºŒä»£æ¨¡å‹

## ğŸ”§ å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

```bash
cd src/backend
npm run dev          # å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run build        # ç¼–è¯‘ TypeScript
npm run start        # ç”Ÿäº§æ¨¡å¼
```

### å‰ç«¯å¼€å‘

```bash
cd src/frontend
npm run dev          # å¼€å‘æœåŠ¡å™¨
npm run build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview      # é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
```

## ğŸ› æ•…éšœæ’æŸ¥

### ç«¯å£å·²è¢«å ç”¨

å¦‚æœ 8080 æˆ– 5173 ç«¯å£è¢«å ç”¨ï¼š

```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :8080
lsof -i :5173

# æˆ–ä½¿ç”¨ netstat
netstat -tulpn | grep 8080
netstat -tulpn | grep 5173

# æ€æ­»è¿›ç¨‹
kill -9 <PID>
```

### åç«¯æ— æ³•å¯åŠ¨

1. æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼š`node --version`ï¼ˆéœ€è¦ >= 18ï¼‰
2. æ¸…ç†ä¾èµ–é‡æ–°å®‰è£…ï¼š
   ```bash
   cd src/backend
   rm -rf node_modules package-lock.json
   npm install
   ```

### è§†é¢‘ç”Ÿæˆå¤±è´¥

1. **æ£€æŸ¥ Azure OpenAI é…ç½®**
   - ç¡®ä¿ Endpoint å’Œ API Key æ­£ç¡®
   - åœ¨è®¾ç½®ä¸­æµ‹è¯•è¿æ¥æ˜¯å¦æˆåŠŸ

2. **æŸ¥çœ‹åç«¯æ—¥å¿—**
   ```bash
   tail -f backend-output.log
   ```

3. **æ£€æŸ¥ç½‘ç»œè¿æ¥**
   - ç¡®ä¿å¯ä»¥è®¿é—® Azure OpenAI æœåŠ¡
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

## ğŸ“ API æ–‡æ¡£

### ä¸»è¦ç«¯ç‚¹

- `GET /api/tasks` - è·å–æ‰€æœ‰ä»»åŠ¡
- `POST /api/tasks/text-to-video` - æäº¤æ–‡æœ¬ç”Ÿæˆè§†é¢‘ä»»åŠ¡
- `POST /api/tasks/image-to-video` - æäº¤å›¾ç‰‡ç”Ÿæˆè§†é¢‘ä»»åŠ¡
- `GET /api/tasks/:taskId/status` - è·å–ä»»åŠ¡çŠ¶æ€
- `DELETE /api/tasks/:taskId/delete` - åˆ é™¤ä»»åŠ¡
- `POST /api/config/validate` - éªŒè¯é…ç½®
- `GET /api/files/video/:filename` - ä¸‹è½½è§†é¢‘æ–‡ä»¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issueã€‚

---

**äº«å— AI è§†é¢‘åˆ›ä½œçš„ä¹è¶£ï¼** ğŸ¬âœ¨
